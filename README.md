# IfcOpenHouse

<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

More than 10 years ago, the original IfcOpenHouse was created by [Thomas
Krijnen](https://github.com/aothms) by using the [IfcOpenShell
library](https://ifcopenshell.org/). It consists of a single story
building with a gable roof, sitting on top of a NURBS surface. It
includes a footing, walls with openings for doors and windows, a roof…
but above all, it gives an overview about how to programmatically build
a simple IFC model from scratch.

<!-- This is where a canvas with an IFC.js visualisation of the model
    will be placed within the Quarto website -->
<div id="ifcjs-container">
</div>

Check out the original blog post, as well as the C++ source if
interested:

<http://blog.ifcopenshell.org/2012/11/say-hi-to-ifcopenhouse.html>

<https://github.com/IfcOpenShell/IfcOpenShell/blob/master/src/examples/IfcOpenHouse.cpp>

The current repository is an exercise to recreate that same model, but
with the recent higher level [IfcOpenShell Python
API](https://blenderbim.org/docs-python/autoapi/index.html). This same
API is widely used today in the native IFC editing approach followed by
BIM authoring software like [BlenderBIM](https://blenderbim.org/) and
[FreeCAD](https://www.freecad.org/), among others. At the end, there’s
also a visualization cell with [IFC.js](https://ifcjs.github.io/info/),
the BIM toolkit for JavaScript.

It is a basic tutorial, but some basic IFC and Python knowledge is
required, as well as some basic trigonometry for the sizes and
coordinates. One of the goals is to show how powerful Jupyter Notebooks
can be as an experimentation playground. Note that this notebook uses
[nbdev directives](https://nbdev.fast.ai/explanations/directives.html)
to automate the production of a script and a Quarto website, as well as
helping with [Git-friendly
Jupyter](https://nbdev.fast.ai/tutorials/git_friendly_jupyter.html).

## Generation

Go to [generation](00_generation.ipynb) in order to find the extensive
instructions for the IfcOpenHouse generation.

## Install

These set of notebooks may be conveniently browsed through their Quarto
website, or alternatively be run on your own end by cloning the
repository. For the latter, follow these installation instructions.

You may run the following command to clone the repository and install
all necessary dependencies.

TODO: Integrate with `nbdev` actions and settings.ini for easier
installation.

``` sh
mamba create --name IfcOpenHouse
conda activate IfcOpenHouse
git clone https://github.com/cvillagrasa/IfcOpenHouse.git
mamba install numpy>=1.24
mamba install -c conda-forge nptyping=2.5.0
mamba install -c ifcopenshell ifcopenshell=0.7.0
mamba install -c conda-forge pythonocc-core>=7.7.0
pip install mathutils>=3.3.0
pip install -U nbdev
pip install -e .
```

Using the editable flag `-e`, you will be able to use any further
changes you make to the notebooks and/or Python modules immediately.

As an extra step, use dark mode if you wish (see
[jupyter-themes](https://github.com/dunovank/jupyter-themes#user-content-command-line-examples)
for more info):

``` sh
mamba install -c conda-forge jupyterthemes=0.20.0
jt -t chesterish -T -N -kl
```

You may also want to edit the JavaScript code for the model preview by
running `npm i` from the `viz` directory and regenerate the bundles with
either `npm run build_nb` or `npm run watch_nb`.
